<?phpdefined('BASEPATH') or exit('No direct script access allowed');/** * Admin Controller * * @package    CI * @subpackage Controller * @author     Uralensis <firebug.j@gmail.com> * @version    1.0.0 */class TumorBoard extends CI_Controller{        /**     * Constructor to load models and helpers     */    public function __construct()    {        parent::__construct();        $this->load->model('Ion_auth_model');        $this->load->model('TumorBoard_model');        $this->load->helper(array('form', 'url', 'file', 'activity_helper', 'dashboard_functions_helper', 'ec_helper'));        track_user_activity(); //Track user activity function which logs user track actions.        if (!$this->ion_auth->logged_in()) {            redirect('auth/login', 'refresh');        }    }        public function create_meeting()    {        $formData = $this->input->post();        $new_meeting = [            'ura_mdt_list_name' => $formData['name'],            'ura_mdt_list_hospital_id' => $formData['hospital_id'],            'ura_mdt_date' => date('d-m-Y h:i A', strtotime($formData['date'] . ' ' . $formData['from'])),            'ura_mdt_description' => $formData['description']        ];        $this->TumorBoard_model->create_meeting($new_meeting);        redirect(site_url('/tumorBoard'));    }        public function index()    {        $user_id = $this->ion_auth->user()->row()->id;        $hospital_id = 9;        $data = [];        $mdt_categories = $this->db->select('*')                                   ->from('uralensis_mdt_lists')                                   ->where('ura_mdt_list_hospital_id', $hospital_id)                                   ->get()                                   ->result();        $data['hospital_id'] = $hospital_id;        $data['hospitals'] = $this->db->get_where('groups', ['group_type' => 'H'])->result();        $data['meetings'] = $mdt_categories;        $this->load->view('templates/header-new');        $this->load->view('pages/tumor-board', $data);        $this->load->view('templates/footer-new');    }    }